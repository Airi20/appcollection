<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
  <title>ようこそ（ちょい難）</title>
  <meta name="description" content="ようこそ。こんな辺鄙なサイトを見つけてくれてどうもありがとう。アプリたちはちょっとした謎を解くと見えるよ。" />
  <style>
    :root{
      --bg: #0f1115; --fg: #e5e7eb; --muted:#9aa3b2; --acc:#7c3aed; --card:#151924; --ok:#10b981; --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
      background: radial-gradient(1200px 800px at 80% -10%, #1f2440 0%, #0f1115 40%), var(--bg);
      color:var(--fg);
      display:flex; align-items:center; justify-content:center;
      -webkit-text-size-adjust: 100%;
    }
    .wrap{width:min(900px, 92vw);}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.08);
      backdrop-filter:saturate(120%) blur(6px);
      border-radius:18px; padding:28px 24px; box-shadow:0 10px 30px rgba(0,0,0,0.35);
    }
    h1{font-size: clamp(24px, 6vw, 36px); margin:0 0 10px; letter-spacing:0.02em; color:var(--fg); position:relative; z-index:2; text-shadow:0 1px 0 rgba(0,0,0,.6)}
    #lead{line-height:1.8; color:var(--fg); font-size:16px;}
    .accent{color:var(--fg)}
    .blink{display:inline-block; width:10px; margin-left:4px; background:var(--fg); animation:blink 1.2s steps(2,end) infinite; height:1em; transform:translateY(3px)}
    @keyframes blink{50%{opacity:0}}

    .ctaRow{display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:12px}
    button, .ghost{
      border-radius:12px; border:1px solid rgba(255,255,255,0.14);
      background:#161a25; color:var(--fg); padding:8px 12px; cursor:pointer; font-weight:600;
      transition:.2s ease; text-decoration:none; display:inline-flex; gap:8px; align-items:center
    }
    button:hover, .ghost:hover{transform:translateY(-1px); border-color:rgba(255,255,255,0.28)}

    .hint{font-size:13px; color:#aab3c2; display:none; margin-top:8px}
    .hint.active{display:block}

    .apps{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:14px; margin-top:18px; opacity:0; pointer-events:none; transform:translateY(4px); transition:.35s ease}
    .apps.revealed{opacity:1; pointer-events:auto; transform:none}

    .app{
      background:var(--card); border:1px solid rgba(255,255,255,0.08); border-radius:16px; padding:14px;
      display:flex; flex-direction:column; gap:8px; min-height:120px; position:relative; overflow:hidden
    }
    .badge{position:absolute; top:10px; right:10px; font-size:11px; color:#c4cbe0; background:rgba(124,58,237,.18); border:1px solid rgba(124,58,237,.35); padding:4px 8px; border-radius:999px}
    .app h3{margin:0; font-size:16px}
    .app p{margin:0; font-size:13px}
    .app a{margin-top:auto; align-self:flex-start; padding:6px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.14); text-decoration:none; color:var(--fg)}
    .app a:hover{border-color:#fff3}

    .foot{margin-top:12px; font-size:12px; color:#8c95a6}

    .dotbar{display:flex; gap:8px; margin-top:14px}
    .dot{width:8px; height:8px; border-radius:999px; background:#3b3f52; cursor:crosshair; opacity:.55}
    .dot.hit{background:var(--ok); opacity:1; box-shadow:0 0 0 4px rgba(16,185,129,.15)}

    .hiddenMsg{opacity:.12; font-size:12px; user-select:none}
    .hiddenMsg:hover{opacity:.45}

    @media (max-width:480px){ h1{font-size:28px} #lead{font-size:14px} .foot{font-size:11px} }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="card" aria-live="polite">
      <h1 id="title"><span class="accent">ようこそ。</span><span class="blink" aria-hidden="true"></span></h1>
      <p id="lead">こんな辺鄙なサイトを見つけてくれて、どうもありがとう。<br/>
        作ったアプリたちを見せようと思うんだけど、<strong>簡単に見られちゃ恥ずかしい</strong>から、ちょっと探すのが難しくなるようにしたよ。<br/>
        <em>見つけられるかな？</em>
      </p>

      <div class="ctaRow">
        <button id="hintBtn" aria-expanded="false" aria-controls="hint">ヒント</button>
        <a class="ghost" id="openBtn" href="#" title="うっかり全部見せる">うっかり全部見せる</a>
        <span class="hiddenMsg">（ここ、5回くらいタップすると…？）</span>
      </div>

      <div id="hint" class="hint" role="note">
        ・タイトルの「ようこそ。」に秘密あり。<br/>
        ・キーボードで <kbd>A I R I</kbd> とタイプしてみて。<br/>
        ・どこかにある小さな ● を全部光らせると…。
      </div>

      <div class="dotbar" aria-hidden="true">
        <div class="dot" data-dot="1"></div>
        <div class="dot" data-dot="2"></div>
        <div class="dot" data-dot="3"></div>
      </div>

      <section id="apps" class="apps" aria-hidden="true">
        <!-- アプリ一覧は前回通り省略 -->
      </section>

      <p class="foot">※ URLに <code>?open=1</code> を付けると即オープン（作者用ショートカット）。</p>
    </section>
  </main>

  <script>
    const title = document.getElementById('title');
    const hintBtn = document.getElementById('hintBtn');
    const hint = document.getElementById('hint');
    hintBtn.addEventListener('click', ()=>{
      const on = hint.classList.toggle('active');
      hintBtn.setAttribute('aria-expanded', on);
    });

    const apps = document.getElementById('apps');
    const openBtn = document.getElementById('openBtn');
    let unlocked = false;
    function reveal(){
      if(unlocked) return;
      unlocked = true;
      apps.classList.add('revealed');
      apps.setAttribute('aria-hidden','false');
    }

    let clickCount = 0;
    title.addEventListener('click', ()=>{
      clickCount++;
      if(clickCount >= 5) reveal();
    });

    const target = 'airi';
    let buffer = '';
    window.addEventListener('keydown', (e)=>{
      if(unlocked) return;
      if(e.key.length === 1){
        buffer = (buffer + e.key.toLowerCase()).slice(-target.length);
        if(buffer === target){ reveal(); }
      }
    });

    const dots = Array.from(document.querySelectorAll('.dot'));
    dots.forEach(d=> d.addEventListener('click', ()=>{
      d.classList.add('hit');
      if(dots.every(x=>x.classList.contains('hit'))){ reveal(); }
    }));

    openBtn.addEventListener('click', (e)=>{ e.preventDefault(); reveal(); });

    const params = new URLSearchParams(location.search);
    if(params.get('open')==='1') reveal();
  </script>
</body>
</html>
